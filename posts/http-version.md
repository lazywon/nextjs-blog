---
title: "HTTP 버전 비교"
date: "2022-10-18"
description: "HTTP 변천사와 버전 별 차이에 대해 알아보기 "
# thumbnailUrl: "/posts/thumbnail/http-version.png"
tags: ["http"]
---

## 목차

- [HTTP 변천사](#http-변천사)
  - [HTTP/0.9](#http09)
  - [HTTP/1.0](#http10)

---

# HTTP란?

## HTTP(HyperText Transfer Protocol Version)

TCP 연결 기반 위에서 동작하는 프로토콜이다.

# HTTP 변천사

## HTTP/0.9

통신에 필요한 최소한의 기능만 갖춘 것으로, 실제 데이터의 전송만을 위해 사용되었다.

초기에는 버전 번호가 없었다. 이후에 다른 버전들과 구분하기 위해 0.9 버전을 붙이게 되었다.

0.9 버전은 **단일 라인으로 구성**되었으며, 요청 가능한 **메서드는 GET이 유일**했다.
어떤 데이터를 요청한다는 본문을 보내면 요청한 메시지에 대한 결과를 본문에 담아 응답하는 형태로, 에러가 발생했을 경우에도 응답 메시지의 본문에 에러를 적어 보냈다.

```
// 요청
GET /mypage.html

// 응답
<HTML>
A very simple HTML page
</HTML>
```

- HTTP/0.9의 특징
  - 클라이언트-서버, 요청-응답 프로토콜
  - TCP/IP 통해 실행되는 ASCII 프로토콜
  - 하이퍼 텍스트 문서(HTML)을 전송하도록 설계되어, 다른 유형은 전송 불가하다.
  - 서버와 클라이언트 간 연결은 모든 요청 후에 닫힌다.
  * 상태, 오류코드가 없기 때문에 에러 발생한 경우 해당 파일 내부에 에러를 적어 보낸다.

## HTTP/1.0

매우 제한적이었던 HTTP/0.9에서 브라우저와 서버 모두 좀 더 융통성을 갖도록 빠르게 확장되었다.

이때부터 **Header**가 생겼다. 헤더는 해당 메시지 정보를 담고 있는 역할로, 헤더만 읽어도 해당 메시지의 개괄적인 의미를 파악할 수 있다.

`버전 정보`(HTTP/1.0)와 `상태코드`(200 OK), 문서의 타입인 `Content-Type`(text/html)을 통해 메시지가 정상적으로 데이터를 받아왔는지, 지금 받은 문서의 타입은 어떤 것인지 등을 확인하고 이에 대응할 수 있게 되었다.

```
// 요청
GET /mypage.html HTTP/1.0
User-Agent: NCSA_Mosaic/2.0 (Windows 3.1)

// 응답
200 OK
Date: Tue, 15 Nov 1994 08:12:31 GMT
Server: CERN/3.0 libwww/2.17
Content-Type: text/html
<HTML>
A page with an image
  <IMG SRC="/myimage.gif">
</HTML>
```

HTTP-WG는 HTTP/1.0 구현의 일반적인 사용을 문서화한 [RFC 1945](https://www.rfc-editor.org/rfc/rfc1945)를 발표하였다.

- HTTP/1.0의 특징
  - 버전 정보가 요청 사이내로 전송되기 시작했다.
  - 상태코드가 응답 첫 줄에 포함되어 요청에 대한 성공/실패를 바로 확인할 수 있다.
  - POST, HEAD가 추가되었다.
  - HTTP Header가 추가되면서 Content-Type을 이용하여 HTML 문서 외에 다른 문서들을 전송하는 기능이 추가되었다.

하지만, 1.0은 공식적인 표준은 아니었다.

## HTTP1.1

여러 개선사항과 업데이트가 표준에 통합되어 [RFC 2616](https://www.rfc-editor.org/rfc/rfc2616)으로 출시 되었다.

큰 맥락은 1.0과 동일하되 일부 모호했던 기능들이 개선되며 진정한 표준으로 자리매김하게 되었다.

당시 1.0버전에서는 모든 요청마다 새로운 연결을 맺어야 했다. 요청하는 컴퓨터와 응답하는 컴퓨터가 데이터를 통신하기 위해 연결을 하고 요청과 응답을 한 번씩 주고받고 나면 그 연결을 끊고 다시 새 연결을 하는 식이었다.

문제는 **동일한 컴퓨터 사이에서 여러 개의 콘텐츠를 요청할 때에도 매 번 새 연결을 맺어야 했다는 점**이다.
특히 한 번 연결을 할 때마다 TCP에선 3-way-handshake가 이루어졌다. 한 번의 3-way-handshake만으로도 시간을 어느 정도 잡아먹는데, 데이터를 여러 번 주고받느라 몇 번을 반복하다 보니 속도가 눈에 띄게 느려지게 된 것이다. 초창기 웹에서는 이용하는 콘텐츠가 적어 큰 문제가 되지 않았지만 웹이 고도화되면서 불편함은 더욱 커졌다.

HTTP/1.1에서는 각 요청마다 TCP 연결을 반복했던 1.0과 달리 **한 번 TCP 연결을 맺으면 끊지 않고 계속 유지할 수 있게** 했다.(persist connection) 이로써 반복되는 3-way-handshake를 단 한 번으로 줄여 메모리 자원을 절약하고 성능을 개선할 수 있게 되었다.

또한, 1.0에서는 이전 요청에 대한 응답이 도착해야만 다음 요청을 보낼 수 있었기에 앞선 요청에 대한 응답이 늦거나 돌아오지 않으면 뒤의 요청들은 막연히 기다려야만 하는 문제가 있었다. 1.1에서는 이전 응답과 상관없이 **한 번에 여러 개의 요청을 보낼 수 있도록 하여 통신 속도를 더욱 높였다**.(pipelining)

---

- 참고
  - [MDN HTTP의 진화](https://developer.mozilla.org/ko/docs/Web/HTTP/Basics_of_HTTP/Evolution_of_HTTP)
  - [그림으로 쉽게 보는 TCP](https://brunch.co.kr/@swimjiy/39)
